repos:
-   repo: local
    hooks:
    # Python formatting and linting
    -   id: black
        name: Black formatter
        entry: black
        language: system
        types: [python]

    -   id: flake8-diff
        name: Flake8 (diff-cover)
        entry: diff-quality --violations=flake8 --compare-branch=origin/pre-develop
        language: system
        types: [python]

    # Python testing
    -   id: pytest
        name: Run pytest
        entry: pytest
        language: system
        pass_filenames: false
        always_run: true

    # JavaScript formatting, linting, and testing
#    -   id: eslint
#        name: ESLint
#        entry: npx eslint
#        language: system
#        types: [javascript]

    -   id: eslint
        name: ESLint (legacy config)
        entry: npx eslint --config .eslintrc.json
        language: system
        types: [javascript]

    -   id: prettier-diff
        name: Prettier (diff only)
        entry: bash -c "git diff --name-only origin/pre-develop...HEAD -- '*.js' | xargs npx prettier --check --write"
        language: system
        types: [javascript]

    -   id: jest
        name: Jest tests
        entry: npx jest --bail --passWithNoTests
        language: system
        types: [javascript]